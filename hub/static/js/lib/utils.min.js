void function(exports,undefined){function valExists(valName){var arr=[],i=0;return arr[i++]="var result;",arr[i++]="try{",arr[i++]=valName+";",arr[i++]="result=true;",arr[i++]="}catch(e){",arr[i++]="result=false;",arr[i++]="}",arr[i++]="result",arr.join("")}function isUndefined(value){return"undefined"==typeof value}function isNull(value){return null===value}function isBoolean(value){return"boolean"==typeof value}function isNumber(value){return"number"==typeof value}function isString(value){return"string"==typeof value}function isObject(value){return value&&(value.constructor===Object||"[object Object]"===serialize.call(value))}function isFunction(value){return"function"==typeof value}function isDate(value){return value instanceof Date}function isError(value){return value instanceof Error}function isRegExp(value){return value instanceof RegExp}function isArrayLike(obj){if(obj&&"object"==typeof obj){var n=obj.length,str=serialize.call(obj);if(/(Array|List|Collection|Map|Arguments)\]$/.test(str))return!0;if("[object Object]"===str&&n===n>>>0)return!0}return!1}var ns=exports._B=exports._B||{},OP=Object.prototype,serialize=OP.toString,nativeIsArray=Array.isArray,rwindow=/^\[object (?:Window|DOMWindow|global)\]$/,isWindow=function(obj){return rwindow.test(serialize.call(obj))},isPlainObject=function(obj){return"[object Object]"===serialize.call(obj)&&Object.getPrototypeOf(obj)===OP},isArray=nativeIsArray||function(value){return"[object Array]"===serialize.call(value)};ns.isUndefined=isUndefined,ns.isNull=isNull,ns.isBoolean=isBoolean,ns.isNumber=isNumber,ns.isString=isString,ns.isObject=isObject,ns.isArray=isArray,ns.isFunction=isFunction,ns.isDate=isDate,ns.isError=isError,ns.isRegExp=isRegExp,ns.valExists=valExists,ns.isPlainObject=isPlainObject,ns.isArrayLike=isArrayLike,ns.isWindow=isWindow}(this),void function(exports,undefined){function toInt(str){return parseInt(str,10)||0}function toArray(pseudoArrayObj){var i,l,arr=[];try{return arr.slice.call(pseudoArrayObj)}catch(e){for(arr=[],i=0,l=pseudoArrayObj.length;l>i;++i)arr[i]=pseudoArrayObj[i];return arr}}var ns=exports._B=exports._B||{};ns.toInt=toInt,ns.toArray=toArray}(this),void function(exports,undefined){function ensure(target,item){return-1===target.indexOf(item)?target.push(item):void 0}function removeAt(target,index){return!!target.splice(index,1).length}function remove(target,item){var index=target.indexOf(item);return~index?removeAt(target,index):!1}var ns=exports._B=exports._B||{},AP=Array.prototype,slice=AP.slice,initial=function(array,n){return slice.call(array,0,Math.max(0,array.length-(null==n?1:n)))},first=function(array,n){return null==array?void 0:null==n?array[0]:initial(array,array.length-n)},rest=function(array,n){return slice.call(array,null==n?1:n)},last=function(array,n){return null==array?void 0:null==n?array[array.length-1]:rest(array,Math.max(0,array.length-n))},range=function(start,end,step){step||(step=1),null==end&&(end=start||0,start=0);for(var index=-1,length=Math.max(0,Math.ceil((end-start)/step)),result=new Array(length);++index<length;)result[index]=start,start+=step;return result};ns.Array={initial:initial,first:first,rest:rest,last:last,range:range,ensure:ensure,removeAt:removeAt,remove:remove}}(this),void function(exports,undefined){function has(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)}function allKeys(obj){if(!_B.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return keys}function keys(obj){if(!_B.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)has(obj,key)&&keys.push(key);return keys}function invert(obj){for(var result={},keys=_B.Object.keys(obj),i=0,length=keys.length;length>i;i++)result[obj[keys[i]]]=keys[i];return result}function pairs(obj){for(var keys=_B.Object.keys(obj),length=keys.length,pairs=Array(length),i=0;length>i;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs}function values(obj){for(var keys=_B.Object.keys(obj),length=keys.length,values=Array(length),i=0;length>i;i++)values[i]=obj[keys[i]];return values}var ns=exports._B=exports._B||{},nativeKeys=Object.keys;ns.Object={has:has,allKeys:allKeys,keys:keys,invert:invert,pairs:pairs,values:values}}(this),void function(exports,undefined){function trim(str){return"function"==typeof str.trim?str.trim():str.replace(/(^\s*)|(\s*$)/g,"")}function lTrim(str){return str.replace(/(^\s*)/g,"")}function rTrim(str){return str.replace(/(\s*$)/g,"")}function removeAllSpaces(str){return str.replace(/[ ]/g,"")}function contains(target,it){return-1!=target.indexOf(it)}function startsWith(target,str,ignorecase){var start_str=target.substr(0,str.length);return ignorecase?start_str.toLowerCase()===str.toLowerCase():start_str===str}function endsWith(target,str,ignorecase){var end_str=target.substring(target.length-str.length);return ignorecase?end_str.toLowerCase()===str.toLowerCase():end_str===str}function repeat(target,n){if(1==n)return target;var s=repeat(target,Math.floor(n/2));return s+=s,n%2&&(s+=target),s}function truncate(target,length,truncation){return length=length||30,truncation=void 0===truncation?"...":truncation,target.length>length?target.slice(0,length-truncation.length)+truncation:String(target)}function hyphen(target){return target.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function camelize(target){return target.indexOf("-")<0&&target.indexOf("_")<0?target:target.replace(/[-_][^-_]/g,function(match){return match.charAt(1).toUpperCase()})}var ns=exports._B=exports._B||{},byteLen=function(target,fix){fix=fix?fix:2;var str=new Array(fix+1).join("-");return target.replace(/[^\x00-\xff]/g,str).length},escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_B.Object.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}},escape_=createEscaper(escapeMap),rscripts=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,ron=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,ropen=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,rsanitize={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},sanitize=function(str){return str.replace(rscripts,"").replace(ropen,function(a,b){var match=a.toLowerCase().match(/<(\w+)\s/);if(match){var reg=rsanitize[match[1]];reg&&(a=a.replace(reg,function(s,name,value){var quote=value.charAt(0);return name+"="+quote+"javascript:void(0)"+quote}))}return a.replace(ron," ").replace(/\s+/g," ")})};ns.byteLen=byteLen,ns.contains=contains,ns.startsWith=startsWith,ns.endsWith=endsWith,ns.trim=trim,ns.lTrim=lTrim,ns.rTrim=rTrim,ns.removeAllSpaces=removeAllSpaces,ns.hyphen=hyphen,ns.camelize=camelize,ns.truncate=truncate,ns.repeat=repeat,ns.escape=escape_,ns.sanitize=sanitize}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},now=Date.now||function(){return(new Date).getTime()};ns.now=now}(this),void function(exports,undefined){function namespace(ns_string){for(var global=function(){return this||(1,eval)("this")}(),parts=ns_string.split("."),parent=global,i=0,l=parts.length;l>i;i++)"undefined"==typeof parent[parts[i]]&&(parent[parts[i]]={}),parent=parent[parts[i]];return parent}function package(ns,func){var target;"function"==typeof ns?(func=ns,target=window):"string"==typeof ns?target=this.namespace(ns):"object"==typeof ns&&(target=ns),func.call(target,this)}function extend(destination,source){for(var n in source)source.hasOwnProperty(n)&&(destination[n]=source[n]);return destination}function Class(){var length=arguments.length,option=arguments[length-1];if(option.init=option.init||function(){},2===length){var superClass=arguments[0].extend,tempClass=function(){};tempClass.prototype=superClass.prototype;var subClass=function(){return new subClass.prototype._init(arguments)};return subClass.superClass=superClass.prototype,subClass.callSuper=function(context,func){var slice=Array.prototype.slice,a=slice.call(arguments,2),func=subClass.superClass[func];func&&func.apply(context,a.concat(slice.call(arguments)))},subClass.prototype=new tempClass,subClass.prototype.constructor=subClass,this.extend(subClass.prototype,option),subClass.prototype._init=function(args){this.init.apply(this,args)},subClass.prototype._init.prototype=subClass.prototype,subClass}if(1===length){var newClass=function(){return new newClass.prototype._init(arguments)};return newClass.prototype=option,newClass.prototype._init=function(arg){this.init.apply(this,arg)},newClass.prototype.constructor=newClass,newClass.prototype._init.prototype=newClass.prototype,newClass}}function each(obj,fn){if(obj){var i=0;if(_B.isArrayLike(obj))for(var n=obj.length;n>i&&fn(i,obj[i])!==!1;i++);else for(i in obj)if(obj.hasOwnProperty(i)&&fn(i,obj[i])===!1)break}}var ns=exports._B=exports._B||{};ns.namespace=namespace,ns["package"]=package,ns.extend=extend,ns.Class=Class,ns.each=each}(this),void function(exports,undefined){function getElementsByClassName(str,root,tag){if(root=root?"string"==typeof root?document.getElementById(root):root:document,root.getElementsByClassName)return root.getElementsByClassName(str);if(root.querySelectorAll)return root.querySelectorAll("."+str);tag=tag||"*";for(var els=root.getElementsByTagName(tag),arr=[],i=0,n=els.length;n>i;i++)for(var j=0,k=els[i].className.split(" "),l=k.length;l>j;j++)if(k[j]==str){arr.push(els[i]);break}return arr}function element(selector,context){var result;return context=context||document,idExpr.test(selector)?(result=document.getElementById(selector.replace("#","")),result?[result]:[]):(result=tagNameExpr.test(selector)?context.getElementsByTagName(selector):classExpr.test(selector)?this.getElementsByClassName(selector.replace(".",""),context):context.querySelectorAll?context.querySelectorAll(selector):[],_B.toArray(result))}var ns=exports._B=exports._B||{},tagNameExpr=/^[\w-]+$/,idExpr=/^#([\w-]*)$/,classExpr=/^\.([\w-]+)$/;ns.getElementsByClassName=getElementsByClassName,ns.element=element}(this),void function(exports,undefined){function attr(elem,name,value){return 2===arguments.length?(elem.setAttribute(name,value),this):elem.getAttribute(name)}function removeData(elem,name){return name="data-"+_B.hyphen(name),elem.removeAttribute(name),this}var ns=exports._B=exports._B||{};ns.attr=attr,ns.removeData=removeData}(this),void function(exports,undefined){function hasClass(elem,className){return elem.classList?elem.classList.contains(className):!!~(" "+elem.className+" ").indexOf(" "+className+" ")}function addClass(elem,className){return elem.classList?void elem.classList.add(className):void(new RegExp("(^|\\s+)"+className).test(elem.className)||(elem.className=elem.className+" "+className))}function removeClass(elem,className){return elem.classList?void elem.classList.remove(className):void(elem.className=elem.className.replace(new RegExp("(^|\\s+)"+className),""))}function toggleClass(elem,value){for(var className,i=0,classNames=String(value).match(/\S+/g)||[];className=classNames[i++];){var state=!hasClass(elem,className);this[state?"addClass":"removeClass"](elem,className)}}function getClass(elem){return elem.className.replace(/\s+/g," ").split(" ")}function replaceClass(elem,oldClassName,newClassName){for(var arr=getClass(elem),arr2=[],i=0,l=arr.length;l>i;i++)arr2.push(arr[i]==oldClassName?newClassName:arr[i]);elem.className=arr2.join(" ")}function getStyle(elem,styleName){return elem.style&&(styleName=styleName.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()})),document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(elem,null)[styleName]:elem.currentStyle[styleName]}function setStyle(elem,styleName,styleValue){if(elem.length)for(var i=0,l=elem.length;l>i;i++)this.setStyle(elem[i],styleName,styleValue);else if(_B.isObject(styleName))for(var n in styleName)styleName.hasOwnProperty(n)&&(elem.style[n]=styleName[n]);else _B.isString(styleName)&&(elem.style[styleName]=styleValue)}function getMaxZIndex(){for(var zIndex,el,children=document.body.children,maxIndex=10,i=0;el=children[i++];)1===el.nodeType&&(zIndex=~~getStyle(el,"z-index"),zIndex&&(maxIndex=Math.max(maxIndex,zIndex)));return maxIndex}var ns=exports._B=exports._B||{};ns.hasClass=hasClass,ns.addClass=addClass,ns.removeClass=removeClass,ns.toggleClass=toggleClass,ns.getClass=getClass,ns.replaceClass=replaceClass,ns.getStyle=getStyle,ns.setStyle=setStyle,ns.getMaxZIndex=getMaxZIndex}(this),void function(exports,undefined){function width(elem){var paddingLeft=parseInt(this.getStyle(elem,"paddingLeft"),10),paddingRight=parseInt(this.getStyle(elem,"paddingRight"),10),innerWidth=this.innerWidth(elem);return innerWidth-paddingLeft-paddingRight}function innerWidth(elem){return elem.clientWidth}function outerWidth(elem){var innerWidth=this.innerWidth(elem),borderLeft=parseInt(this.getStyle(elem,"borderLeftWidth"),10),borderRight=parseInt(this.getStyle(elem,"borderRightWidth"),10);return borderLeft+borderRight+innerWidth}function height(elem){var paddingTop=parseInt(this.getStyle(elem,"paddingTop"),10),paddingBottom=parseInt(this.getStyle(elem,"paddingBottom"),10),innerHeight=this.innerHeight(elem);return innerHeight-paddingTop-paddingBottom}function innerHeight(elem){return elem.clientHeight}function outerHeight(elem){var innerHeight=this.innerHeight(elem),borderTop=parseInt(this.getStyle(elem,"borderTopWidth"),10),borderBottom=parseInt(this.getStyle(elem,"borderBottomWidth"),10);return borderTop+borderBottom+innerHeight}var ns=exports._B=exports._B||{};ns.width=width,ns.innerWidth=innerWidth,ns.outerWidth=outerWidth,ns.height=height,ns.innerHeight=innerHeight,ns.outerHeight=outerHeight}(this),void function(exports,undefined){function insertAfter(parentElement,newElement,refernceElement){var next=refernceElement.nextSibling;return next?parentElement.insertBefore(newElement,next):parentElement.appendChild(newElement),newElement}function matchesSelector(elem,selector){if(elem&&selector){var matchesSelector=elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector||elem.oMatchesSelector||elem.matchesSelector;if(matchesSelector)return matchesSelector.call(elem,selector);var list=_B.element(selector);return list.indexOf(elem)>0?!0:!1}}function closest(elem,selector){for(;elem;){if(matchesSelector(elem,selector))return elem;elem=elem.parentNode}}function removeNode(node){var context=node.parentNode;context&&context.removeChild(node)}function isElement(obj){return!(!obj||1!==obj.nodeType)}var ns=exports._B=exports._B||{},clearHTML=function(node){for(node.textContent="";node.firstChild;)node.removeChild(node.firstChild);return node},containsNode=function(root,el){try{for(;el=el.parentNode;)if(el===root)return!0;return!1}catch(e){return!1}};ns.matchesSelector=matchesSelector,ns.closest=closest,ns.insertAfter=insertAfter,ns.removeNode=removeNode,ns.clearHTML=clearHTML,ns.isElement=isElement,ns.containsNode=containsNode}(this),void function(exports,undefined){function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index+1)}function getURLParam(name,href,noDecode){var re=new RegExp("(?:\\?|#|&)"+name+"=([^&]*)(?:$|&|#)","i"),m=re.exec(href),ret=m?m[1]:"";return noDecode?ret:decodeURIComponent(ret)}function getScriptAbsoluteSrc(){var nodes=document.getElementsByTagName("script"),node=nodes[nodes.length-1],src=document.querySelector?node.src:node.getAttribute("src",4);return src}function trimQuery(url){return(url||"").replace(rquery,"")}function isAbsUrl(path){return/^(?:[a-z]+:)?\/\//i.test(String(path))}function serializeParam(param){if(!param)return"";var qstr=[];for(var key in param)qstr.push(encodeURIComponent(key)+"="+encodeURIComponent(param[key]));return qstr.join("&")}var ns=exports._B=exports._B||{},parseURL=function(str){var ret=null;if(null!==(ret=parseURL.RE.exec(str))){for(var specObj={},i=0,j=parseURL.SPEC.length;j>i;i++){var curSpec=parseURL.SPEC[i];specObj[curSpec]=ret[i+1]}ret=specObj,specObj=null}return ret};parseURL.SPEC=["scheme","user","pass","host","port","path","query","fragment"],parseURL.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^\/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;var buildURL=function(obj){for(var ret="",prefix={},surffix={},i=0,j=parseURL.SPEC.length;j>i;i++){var curSpec=parseURL.SPEC[i];if(obj[curSpec]){switch(curSpec){case"scheme":surffix[curSpec]="://";break;case"pass":prefix[curSpec]=":";case"user":prefix.host="@";break;case"port":prefix[curSpec]=":";break;case"query":prefix[curSpec]="?";break;case"fragment":prefix[curSpec]="#"}curSpec in prefix&&(ret+=prefix[curSpec]),curSpec in obj&&(ret+=obj[curSpec]),curSpec in surffix&&(ret+=surffix[curSpec])}}return prefix=null,surffix=null,obj=null,ret},rquery=/(\?[^#]*)$/;ns.parseURL=parseURL,ns.buildURL=buildURL,ns.getURLParam=getURLParam,ns.getHash=getHash,ns.getScriptAbsoluteSrc=getScriptAbsoluteSrc,ns.isAbsUrl=isAbsUrl,ns.trimQuery=trimQuery,ns.serializeParam=serializeParam}(this),void function(exports,undefined){function getJSONP(options){options["static"]||(options.url+=-1!==options.url.indexOf("?")?"&":"?",options.jsonp=options.jsonp||"callback",options.jsonpCallback=options.jsonpCallback||"jsonp"+(new Date).getTime(),options.data=options.data||{},options.data[options.jsonp]=options.jsonpCallback,options.url+=serializeParam(options.data)),options.context=options.context||window;var script=document.createElement("script");script.type="text/javascript",script.src=options.url,window[options.jsonpCallback]=function(data){options.callback&&options.callback.call(options.context,data)};var destroy=function(){try{delete window[options.jsonpCallback]}catch(e){window[options.jsonpCallback]=null}script.parentNode.removeChild(script),script=null};script.readyState?script.onreadystatechange=function(){("loaded"==script.readyState||"complete"==script.readyState)&&(script.onreadystatechange=null,destroy())}:script.onload=function(){destroy()},document.getElementsByTagName("head")[0].appendChild(script)}function getScript(options){if(options.destroy)options.url+="?t="+(new Date).getTime()+".js";else for(var scriptNode=document.getElementsByTagName("script"),length=scriptNode.length;length--;)if(scriptNode[length].src===options.url)return;var script=document.createElement("script");script.type="text/javascript",script.src=options.url;var destroy=function(){script.parentNode.removeChild(script),script=null};script.readyState?script.onreadystatechange=function(){("loaded"==script.readyState||"complete"==script.readyState)&&(script.onreadystatechange=null,options.destroy?destroy():options.callback&&options.callback())}:script.onload=function(){options.destroy?destroy():options.callback&&options.callback()},document.getElementsByTagName("head")[0].appendChild(script)}function ajax(option){var o=option,m=o.method.toLocaleUpperCase(),isPost="POST"==m,isComplete=!1,timeout=o.timeout,withCredentials=o.withCredentials,async="async"in option?option.async:!0,xhr=window.XMLHttpRequest?new XMLHttpRequest:!1;if(!xhr)return o.error&&o.error.call(null,{ret:999,msg:"Create XHR Error!"}),!1;var qstr=serializeParam(o.param);!isPost&&(o.url+=(o.url.indexOf("?")>-1?"&":"?")+qstr),xhr.open(m,o.url,async),withCredentials&&(xhr.withCredentials=!0),isPost&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var timer=0;xhr.onreadystatechange=function(){if(4==xhr.readyState){var status=xhr.status;if(status>=200&&300>status||304==status||0==status){var response=xhr.responseText.replace(/(\r|\n|\t)/gi,""),json=null;try{json=JSON.parse(response)}catch(e){}o.onSuccess&&o.onSuccess(json,xhr)}else o.onError&&o.onError(xhr,+new Date-startTime);isComplete=!0,timer&&clearTimeout(timer)}};var startTime=+new Date;return xhr.send(isPost?qstr:void 0),timeout&&(timer=setTimeout(function(){isComplete||(xhr.abort(),o.onTimeout&&o.onTimeout(xhr))},timeout)),xhr}var ns=exports._B=exports._B||{};ns.getJSONP=getJSONP,ns.getScript=getScript,ns.ajax=ajax}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},ua=navigator.userAgent,platform={};platform.mobileDevice=null===ua.match(/iemobile|iphone|ipod|ipad|android|nokia|sonyericsson|blackberry|samsung|sec\-|windows ce|motorola|mot\-|up.b|midp\-/i)?!1:!0,platform.touchDevice="ontouchstart"in window,platform.iPhone=null===ua.match(/iPhone/i)?!1:!0,platform.iPod=null===ua.match(/iPod/i)?!1:!0,platform.iPad=null===ua.match(/iPad/i)?!1:!0,platform.iOS=platform.iPhone||platform.iPod||platform.iPad,platform.android=null===ua.match(/Android/i)?!1:!0,platform.winPhone=null===ua.match(/Windows Phone/i)?!1:!0,ns.platform=platform}(this),void function(exports,undefined){function getVendorPropertyName(prop){var _prop,style=div.style;if(prop in style)return prop;_prop=prop.charAt(0).toUpperCase()+prop.substr(1);for(var i=vendors.length;i--;){var v=vendors[i],vendorProp=v+_prop;if(vendorProp in style)return vendorProp}}function toDomStyle(cssStyle){return _B.isString(cssStyle)?cssStyle.replace(/\-[a-z]/g,function(m){return m.charAt(1).toUpperCase()}):void 0}function toCssStyle(domStyle){return _B.isString(domStyle)?domStyle.replace(/[A-Z]/g,function(m){return"-"+m.toLowerCase()}):void 0}var browser,s,ns=exports._B=exports._B||{},vendors=["o","ms","moz","webkit"],div=document.createElement("div"),ua=navigator.userAgent.toLowerCase(),plug=navigator.plugins,toFixedVersion=function(ver,floatLength){return ver=(""+ver).replace(/_/g,"."),floatLength=floatLength||1,ver=String(ver).split("."),ver=ver[0]+"."+(ver[1]||"0"),ver=Number(ver).toFixed(floatLength)};browser={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},plugins:{flash:function(){var ver=0;if(plug&&plug.length){var flash=plug["Shockwave Flash"];flash&&flash.description&&(ver=toFixedVersion(flash.description.match(/\b(\d+)\.\d+\b/)[1],1)||ver)}else for(var startVer=13;startVer--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+startVer),ver=toFixedVersion(startVer);break}catch(e){}return ver}()},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,adobeAir:0,set:function(name,ver){this.name=name,this.version=ver,this[name]=ver}},(s=ua.match(/msie ([\d.]+)/))?browser.set("ie",toFixedVersion(s[1])):(s=ua.match(/firefox\/([\d.]+)/))?browser.set("firefox",toFixedVersion(s[1])):(s=ua.match(/chrome\/([\d.]+)/))?browser.set("chrome",toFixedVersion(s[1])):(s=ua.match(/opera.([\d.]+)/))?browser.set("opera",toFixedVersion(s[1])):(s=ua.match(/adobeair\/([\d.]+)/))?browser.set("adobeAir",toFixedVersion(s[1])):(s=ua.match(/version\/([\d.]+).*safari/))?browser.set("safari",toFixedVersion(s[1])):0;var prefix=function(){var styles,pre,dom;return window.getComputedStyle?(styles=window.getComputedStyle(document.documentElement,""),pre=(Array.prototype.slice.call(styles).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1],dom="WebKit|Moz|MS|O".match(new RegExp("("+pre+")","i"))[1],{dom:dom,lowercase:pre,css:"-"+pre+"-",js:pre}):{dom:"",lowercase:"",css:"",js:""}}(),isWeixin=null===ua.match(/MicroMessenger/i)?!1:!0;ns.browser=browser,ns.isWeixin=isWeixin,ns.prefix=prefix,ns.getVendorPropertyName=getVendorPropertyName,ns.toDomStyle=toDomStyle,ns.toCssStyle=toCssStyle}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},win=window,doc=win.document,div=(win.navigator,document.createElement("div")),support={audio:function(){var result,elem=document.createElement("audio"),NOT_SUPPORT_RE=/^no$/i,EMPTY_STR="";try{elem.canPlayType&&(result={},result.mp3=elem.canPlayType("audio/mpeg;").replace(NOT_SUPPORT_RE,EMPTY_STR),result.wav=elem.canPlayType('audio/wav; codecs="1"').replace(NOT_SUPPORT_RE,EMPTY_STR),result.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(NOT_SUPPORT_RE,EMPTY_STR),result.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(NOT_SUPPORT_RE,EMPTY_STR))}catch(e){}return result}(),fixed:function(){var container=document.body,el=document.createElement("div");_B.setStyle(el,{position:"fixed",top:"100px"}),container.appendChild(el);var originalHeight=container.style.height,originalScrollTop=container.scrollTop;_B.setStyle(container,"height","3000px"),container.scrollTop=500;var elementTop=el.getBoundingClientRect().top;return originalHeight?_B.setStyle(container,"height",originalHeight+"px"):_B.setStyle(container,"height",""),container.removeChild(el),container.scrollTop=originalScrollTop,100===elementTop},transitionend:function(){var endEventNames,div,handler,i;if("ontransitionend"in win)return"transitionend";if("onwebkittransitionend"in win)return"webkitTransitionEnd";if("transition"in doc.body.style)return"transitionend";if("addEventListener"in win){for(endEventNames=["transitionend","webkitTransitionEnd","MozTransitionEnd","MSTransitionEnd","otransitionend","oTransitionEnd"],div=doc.createElement("div"),handler=function(e){for(var i=endEventNames.length;i--;)this.removeEventListener(endEventNames[i],handler);support.transitionend=e.type,handler=null},_B.setStyle(div,{position:"absolute",top:"0px",left:"-99999px",transition:"top 1ms",WebkitTransition:"top 1ms",MozTransition:"top 1ms",MSTransitionEnd:"top 1ms",OTransitionEnd:"top 1ms"}),i=endEventNames.length;i--;)div.addEventListener(endEventNames[i],handler,!1);doc.documentElement.appendChild(div),setTimeout(function(){div.style.top="100px",setTimeout(function(){div.parentNode.removeChild(div),div=null,handler=null},100)},0)}return!1},localStorage:function(){var testKey="test",storage=window.sessionStorage;try{return storage.setItem(testKey,"1"),storage.removeItem(testKey),!0}catch(error){return!1}}},isSupport3d=function(){var p_prop=_B.getVendorPropertyName("perspective");return p_prop&&p_prop in div.style}();ns.support=support,ns.isSupport3d=isSupport3d}(this),void function(exports,undefined){function getEvent(event){return event?event:window.event}function getTarget(event){return event.target||event.srcElement}function preventDefault(event){event.preventDefault?event.preventDefault():event.returnValue=!1}function stopPropagation(event){event.stopPropagation?event.stopPropagation():event.cancelBubble=!0}function getButton(event){if(document.implementation.hasFeature("MouseEvents","2.0"))return event.button;switch(event.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}}var ns=exports._B=exports._B||{},win=window,bind=function(obj,evtType,handler){var oldHandler;obj.addEventListener?obj.addEventListener(evtType,handler,!1):(evtType=evtType.toLowerCase(),obj.attachEvent?obj.attachEvent("on"+evtType,handler):(oldHandler=obj["on"+evtType],obj["on"+evtType]=function(){return oldHandler&&oldHandler.apply(this,arguments),handler.apply(this,arguments)}))},unbind=function(obj,evtType,handler){obj.removeEventListener?obj.removeEventListener(evtType,handler,!1):(evtType=evtType.toLowerCase(),obj.detachEvent?obj.detachEvent("on"+evtType,handler):obj["on"+evtType]=null)},once=function(obj,evtType,handler){var f=function(){handler.apply(win,arguments),_B.off(obj,evtType,f)};_B.on(obj,evtType,f)},on=function(obj,evtType,handler){var tmpEvtType;if(_B.isArray(obj))for(var i=obj.length;i--;)_B.on(obj[i],evtType,handler);else if(_B.isString(evtType)&&evtType.indexOf(" ")>0){evtType=evtType.split(" ");for(var i=evtType.length;i--;)_B.on(obj,evtType[i],handler)}else if(_B.isArray(handler))for(var i=handler.length;i--;)_B.on(obj,evtType,handler[i]);else if(_B.isObject(evtType))for(var eName in evtType)_B.on(obj,eName,evtType[eName]);else{if(tmpEvtType=isDomEvent(obj,evtType))return evtType=tmpEvtType,void bind(obj,evtType,handler);if(obj.elem&&(tmpEvtType=isDomEvent(obj.elem,evtType)))return evtType=tmpEvtType,void bind(obj.elem,evtType,handler);if(customEvent[evtType])return void customEvent[evtType](obj,handler);obj.events||(obj.events={}),obj.events[evtType]||(obj.events[evtType]=[]),obj.events[evtType].push(handler)}};ns.on=on;var off=function(obj,evtType,handler){if(_B.isString(evtType)&&evtType.indexOf(" ")>0){evtType=evtType.split(" ");for(var i=evtType.length;i--;)_B.off(obj,evtType[i],handler)}else if(_B.isArray(handler))for(var i=handler.length;i--;)_B.off(obj,evtType,handler[i]);else if(_B.isObject(evtType))for(var eName in evtType)_B.off(obj,eName,evtType[eName]);else{if(tmpEvtType=isDomEvent(obj,evtType))return evtType=tmpEvtType,void unbind(obj,evtType,handler);if(obj.elem&&(tmpEvtType=isDomEvent(obj.elem,evtType)))return evtType=tmpEvtType,void unbind(obj.elem,evtType,handler);if(customEvent[evtType])return void customEvent._off(obj,evtType,handler);if(!evtType)return void(obj.events={});if(obj.events){if(!handler)return void(obj.events[evtType]=[]);if(obj.events[evtType])for(var evtArr=obj.events[evtType],i=evtArr.length;i--;)if(evtArr[i]==handler)return void evtArr.splice(i,1)}}};ns.off=off;var fire=function(obj,evtType){var tmpEvtType,arg=[].slice.call(arguments,2);if(tmpEvtType=isDomEvent(obj,evtType)){evtType=tmpEvtType;var evt=document.createEvent("HTMLEvents");return evt.initEvent(evtType,!0,!0),void obj.dispatchEvent(evt)}if(obj.elem&&(tmpEvtType=isDomEvent(obj.elem,evtType))){evtType=tmpEvtType;var evt=document.createEvent("HTMLEvents");return evt.initEvent(evtType,!0,!0),void obj.elem.dispatchEvent(evt)}if(obj.events&&obj.events[evtType])for(var handler=obj.events[evtType],i=0,l=handler.length;l>i;i++)handler[i].apply(window,arg)};ns.fire=fire;var EventTarget=function(){this.handlers={}};EventTarget.prototype={constructor:EventTarget,addHandler:function(type,handler){"undefined"==typeof this.handlers[type]&&(this.handlers[type]=[]),this.handlers[type].push(handler)},fire:function(event){if(event.target||(event.target=this),this.handlers[event.type]instanceof Array)for(var handlers=this.handlers[event.type],i=0,len=handlers.length;len>i;i++)handlers[i](event)},removeHandler:function(type,handler){if(this.handlers[type]instanceof Array){for(var handlers=this.handlers[type],i=0,len=handlers.length;len>i&&handlers[i]!==handler;i++);handlers.splice(i,1)}}};var startEvt,moveEvt,endEvt,isDomEvent=function(obj,evtType){return("on"+evtType).toLowerCase()in obj?evtType:!_B.support.transitionend||"transitionend"!==evtType&&evtType!==_B.support.transitionend?!1:_B.support.transitionend};"ontouchstart"in window?(startEvt="touchstart",moveEvt="touchmove",endEvt="touchend"):(startEvt="mousedown",moveEvt="mousemove",endEvt="mouseup");var getTouchPos=function(e){var t=e.touches;return t&&t[0]?{x:t[0].clientX,y:t[0].clientY}:{x:e.clientX,y:e.clientY}},getDist=function(p1,p2){return p1&&p2?Math.sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y)):0},getAngle=function(p1,p2){var r=Math.atan2(p2.y-p1.y,p2.x-p1.x),a=180*r/Math.PI;return a},customEventHandlers=[],isCustomEvtMatch=function(ch,ele,evtType,handler){return ch.ele==ele&&evtType==ch.evtType&&handler==ch.handler},customEvent={_fire:function(ele,evtType,handler){customEventHandlers.forEach(function(ch){isCustomEvtMatch(ch,ele,evtType,handler)&&handler.call(ele,{type:evtType})})},_off:function(ele,evtType,handler){customEventHandlers.forEach(function(ch,i){var at=ch.actions;if(isCustomEvtMatch(ch,ele,evtType,handler)){for(var n in at){var h=at[n];_B.isObject(h)?_B.off(h.ele,n,h.handler):_B.off(ele,n,h)}return void customEventHandlers.splice(i,1)}})},tap:function(ele,handler){var pt_pos,ct_pos,pt_up_pos,pt_up_time,evtType,TAP_DISTANCE=20,DOUBLE_TAP_TIME=300,startEvtHandler=function(e){var touches=e.touches;touches&&1!=touches.length||(ct_pos=pt_pos=getTouchPos(e))},moveEvtHandler=function(e){e.preventDefault(),ct_pos=getTouchPos(e)},endEvtHandler=function(e){var now=Date.now(),dist=getDist(ct_pos,pt_pos),up_dist=getDist(ct_pos,pt_up_pos);TAP_DISTANCE>dist&&(evtType=pt_up_time&&DOUBLE_TAP_TIME>now-pt_up_time&&TAP_DISTANCE>up_dist?"doubletap":"tap",handler.call(ele,{target:e.target,oriEvt:e,
type:evtType})),pt_up_pos=ct_pos,pt_up_time=now};_B.on(ele,startEvt,startEvtHandler),_B.on(ele,moveEvt,moveEvtHandler),_B.on(ele,endEvt,endEvtHandler);var evtOpt={ele:ele,evtType:"tap",handler:handler};evtOpt.actions={},evtOpt.actions[startEvt]=startEvtHandler,evtOpt.actions[moveEvt]=moveEvtHandler,evtOpt.actions[endEvt]=endEvtHandler,customEventHandlers.push(evtOpt)},hold:function(ele,handler){var holdTimeId,pt_pos,ct_pos,HOLD_DISTANCE=20,HOLD_TIME=2e3,startEvtHandler=function(e){e.stopPropagation();var touches=e.touches;touches&&1!=touches.length||(pt_pos=ct_pos=getTouchPos(e),pt_time=Date.now(),holdTimeId=setTimeout(function(){touches&&1!=touches.length||getDist(pt_pos,ct_pos)<HOLD_DISTANCE&&handler.call(ele,{oriEvt:e,target:e.target,type:"hold"})},HOLD_TIME))},moveEvtHandler=function(e){e.stopPropagation(),e.preventDefault(),ct_pos=getTouchPos(e)},endEvtHandler=function(e){e.stopPropagation(),clearTimeout(holdTimeId)};_B.on(ele,startEvt,startEvtHandler),_B.on(ele,moveEvt,moveEvtHandler),_B.on(ele,endEvt,endEvtHandler);var evtOpt={ele:ele,evtType:"hold",handler:handler};evtOpt.actions={},evtOpt.actions[startEvt]=startEvtHandler,evtOpt.actions[moveEvt]=moveEvtHandler,evtOpt.actions[endEvt]=endEvtHandler,customEventHandlers.push(evtOpt)},swipe:function(ele,handler){var pt_pos,ct_pos,pt_time,pt_up_time,pt_up_pos,SWIPE_DISTANCE=30,SWIPE_TIME=500,getSwipeDirection=function(p2,p1){var dx=p2.x-p1.x,dy=-p2.y+p1.y,angle=180*Math.atan2(dy,dx)/Math.PI;return 45>angle&&angle>-45?"right":angle>=45&&135>angle?"top":angle>=135||-135>angle?"left":angle>=-135&&-45>=angle?"bottom":void 0},startEvtHandler=function(e){var touches=e.touches;touches&&1!=touches.length||(pt_pos=ct_pos=getTouchPos(e),pt_time=Date.now())},moveEvtHandler=function(e){e.preventDefault(),ct_pos=getTouchPos(e)},endEvtHandler=function(e){var dir;pt_up_pos=ct_pos,pt_up_time=Date.now(),getDist(pt_pos,pt_up_pos)>SWIPE_DISTANCE&&SWIPE_TIME>pt_up_time-pt_time&&(dir=getSwipeDirection(pt_up_pos,pt_pos),handler.call(ele,{oriEvt:e,target:e.target,type:"swipe",direction:dir}))};_B.on(ele,startEvt,startEvtHandler),_B.on(ele,moveEvt,moveEvtHandler),_B.on(ele,endEvt,endEvtHandler);var evtOpt={ele:ele,evtType:"swipe",handler:handler};evtOpt.actions={},evtOpt.actions[startEvt]=startEvtHandler,evtOpt.actions[moveEvt]=moveEvtHandler,evtOpt.actions[endEvt]=endEvtHandler,customEventHandlers.push(evtOpt)},transform:function(ele,handler){var pt_pos1,pt_pos2,pt_len,pt_angle,startEvtHandler=function(e){var touches=e.touches;touches&&2==touches.length&&(pt_pos1=getTouchPos(e.touches[0]),pt_pos2=getTouchPos(e.touches[1]),pt_len=getDist(pt_pos1,pt_pos2),pt_angle=getAngle(pt_pos1,pt_pos2))},moveEvtHandler=function(e){e.preventDefault();var touches=e.touches;if(touches&&2==touches.length){var ct_pos1=getTouchPos(e.touches[0]),ct_pos2=getTouchPos(e.touches[1]),ct_len=getDist(ct_pos1,ct_pos2),scale=(getAngle(ct_pos1,ct_pos2),ct_len/pt_len);handler.call(ele,{oriEvt:e,target:e.target,type:"transform",scale:scale,rotate:rotate})}};_B.on(ele,startEvt,startEvtHandler),_B.on(ele,moveEvt,moveEvtHandler);var evtOpt={ele:ele,evtType:"transform",handler:handler};evtOpt.actions={},evtOpt.actions[startEvt]=startEvtHandler,evtOpt.actions[moveEvt]=moveEvtHandler,customEventHandlers.push(evtOpt)},scrollstart:function(ele,handler){var isScrolling,scrollTimeId,scrollHandler=function(e){isScrolling||(isScrolling=!0,handler.call(ele,{oriEvt:e,target:e.target,type:"scrollstart"})),clearTimeout(scrollTimeId),scrollTimeId=setTimeout(function(){isScrolling=!1},250)};_B.on(ele,"scroll",scrollHandler);var evtOpt={ele:ele,evtType:"scrollstart",handler:handler};evtOpt.actions={},evtOpt.actions.scroll=scrollHandler,customEventHandlers.push(evtOpt)},scrollend:function(ele,handler){var scrollTimeId,scrollHandler=function(e){document.getElementById("fix").style.background=["green","red","gray","blue"][Math.floor(4*Math.random())+1];clearTimeout(scrollTimeId),scrollTimeId=setTimeout(function(){handler.call(ele,{oriEvt:e,target:e.target,type:"scrollend"})},250)};_B.on(ele,"scroll",scrollHandler);var evtOpt={ele:ele,evtType:"scrollend",handler:handler};evtOpt.actions={},evtOpt.actions.scroll=scrollHandler,customEventHandlers.push(evtOpt)},scrolltobottom:function(ele,handler){var body=document.body,scrollHandler=function(e){body.scrollHeight<=body.scrollTop+window.innerHeight&&handler.call(ele,{oriEvt:e,target:e.target,type:"scrolltobottom"})};_B.on(ele,"scroll",scrollHandler);var evtOpt={ele:ele,evtType:"scrolltobottom",handler:handler};evtOpt.actions={},evtOpt.actions.scroll=scrollHandler,customEventHandlers.push(evtOpt)},ortchange:function(ele,handler){var pre_w=window.innerWidth,resizeHandler=function(e){var orientation,current_w=window.innerWidth,current_h=window.innerHeight;pre_w!=current_w&&(orientation=current_w>current_h?"landscape":"portrait",handler.call(ele,{oriEvt:e,target:e.target,type:"ortchange",orientation:orientation}),pre_w=current_w)};_B.on(window,"resize",resizeHandler);var evtOpt={ele:ele,evtType:"ortchange",handler:handler};evtOpt.actions={},evtOpt.actions.resize=resizeHandler,customEventHandlers.push(evtOpt)}};ns.getEvent=getEvent,ns.getTarget=getTarget,ns.preventDefault=preventDefault,ns.stopPropagation=stopPropagation,ns.getButton=getButton,ns.bind=bind,ns.unbind=unbind,ns.once=once,ns.EventTarget=EventTarget}(this),void function(exports,undefined){function noop(){}function random(min,max){return max===undefined&&(max=min,min=0),Math.floor(Math.random()*(max-min+1))+min}function sleep(ms){for(var old=(new Date).getTime();(new Date).getTime()<old+ms;);}function throttle(fn,delay,immediate,debounce){var diff,context,args,curr=+new Date,last_call=0,last_exec=0,timer=null,exec=function(){last_exec=curr,fn.apply(context,args)};return function(){curr=+new Date,context=this,args=arguments,diff=curr-(debounce?last_call:last_exec)-delay,clearTimeout(timer),debounce?immediate?timer=setTimeout(exec,delay):diff>=0&&exec():diff>=0?exec():immediate&&(timer=setTimeout(exec,-diff)),last_call=curr}}function debounce(fn,delay,immediate){return throttle(fn,delay,immediate,!0)}function disableRightclick(){document.oncontextmenu=function(event){return!1}}function enableRightclick(){document.oncontextmenu=function(){}}function deepCopy(p,c){var c=c||{};for(var i in p)"object"==typeof p[i]?(c[i]=p[i].constructor===Array?[]:{},deepCopy(p[i],c[i])):c[i]=p[i];return c}var ns=exports._B=exports._B||{},generateID=function(prefix){return prefix=prefix||"bear",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,prefix)},nextTick=new function(){function callback(){for(var n=queue.length,i=0;n>i;i++)queue[i]();queue=queue.slice(n)}var tickImmediate=window.setImmediate,tickObserver=window.MutationObserver;if(tickImmediate)return tickImmediate.bind(window);var queue=[];if(tickObserver){var node=document.createTextNode("avalon");new tickObserver(callback).observe(node,{characterData:!0});var bool=!1;return function(fn){queue.push(fn),bool=!bool,node.data=bool}}return function(fn){setTimeout(fn,4)}};if(~window.location.href.indexOf(".html"))var environment="development";else var environment="production";ns.sleep=sleep,ns.environment=environment,ns.generateID=generateID,ns.random=random,ns.noop=noop,ns.deepCopy=deepCopy,ns.throttle=throttle,ns.debounce=debounce,ns.nextTick=nextTick,ns.disableRightclick=disableRightclick,ns.enableRightclick=enableRightclick}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},numAdd=function(num1,num2){var baseNum,baseNum1,baseNum2;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}return baseNum=Math.pow(10,Math.max(baseNum1,baseNum2)),(num1*baseNum+num2*baseNum)/baseNum},numSub=function(num1,num2){var baseNum,baseNum1,baseNum2,precision;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}return baseNum=Math.pow(10,Math.max(baseNum1,baseNum2)),precision=baseNum1>=baseNum2?baseNum1:baseNum2,((num1*baseNum-num2*baseNum)/baseNum).toFixed(precision)},numMulti=function(num1,num2){var baseNum=0;try{baseNum+=num1.toString().split(".")[1].length}catch(e){}try{baseNum+=num2.toString().split(".")[1].length}catch(e){}return Number(num1.toString().replace(".",""))*Number(num2.toString().replace(".",""))/Math.pow(10,baseNum)},numDiv=function(num1,num2){var baseNum3,baseNum4,baseNum1=0,baseNum2=0;try{baseNum1=num1.toString().split(".")[1].length}catch(e){baseNum1=0}try{baseNum2=num2.toString().split(".")[1].length}catch(e){baseNum2=0}with(Math)return baseNum3=Number(num1.toString().replace(".","")),baseNum4=Number(num2.toString().replace(".","")),baseNum3/baseNum4*pow(10,baseNum2-baseNum1)};ns.numAdd=numAdd,ns.numSub=numSub,ns.numMulti=numMulti,ns.numDiv=numDiv}(this),void function(exports,undefined){function formatNumber(number,decimals,point,thousands){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");var n=isFinite(+number)?+number:0,prec=isFinite(+decimals)?Math.abs(decimals):3,sep=thousands||",",dec=point||".",s="",toFixedFix=function(n,prec){var k=Math.pow(10,prec);return""+(Math.round(n*k)/k).toFixed(prec)};return s=(prec?toFixedFix(n,prec):""+Math.round(n)).split("."),s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)),(s[1]||"").length<prec&&(s[1]=s[1]||"",s[1]+=new Array(prec-s[1].length+1).join("0")),s.join(dec)}function formatDate(date,formatString){var o={"M+":date.getMonth()+1,"D+":date.getDate(),"h+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds(),"q+":Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()};/(Y+)/.test(formatString)&&(formatString=formatString.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length)));for(var k in o)new RegExp("("+k+")").test(formatString)&&(formatString=formatString.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return formatString}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}var ns=exports._B=exports._B||{};ns.formatNumber=formatNumber,ns.formatDate=formatDate,ns.padNumber=padNumber}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},isEmpty=function(str){return!_B.trim(str)},isEmail=function(str){return isEmail.RE.test(str)};isEmail.RE=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var isMobileNumber=function(str){return isMobileNumber.RE.test(str)};isMobileNumber.RE=/1\d{10}/;var isURL=function(str){return isURL.RE.test(str)};isURL.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;var isNick=function(str){return isNick.RE.test(str)};isNick.RE=/^[a-zA-Z\d\u4e00-\u9fa5_-]*$/,ns.isEmpty=isEmpty,ns.isEmail=isEmail,ns.isMobileNumber=isMobileNumber,ns.isURL=isURL,ns.isNick=isNick}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]},createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(2>length||null==obj)return obj;for(var index=1;length>index;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;l>i;i++){var key=keys[i];undefinedOnly&&void 0!==obj[key]||(obj[key]=source[key])}return obj}},defaults=createAssigner(_B.Object.allKeys,!0),templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=defaults({},settings,templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_B.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_B)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template};ns.template=template}(this),void function(exports,undefined){function textareaAutoHeight(elem){elem.style.height=elem.scrollHeight+"px"}var ns=exports._B=exports._B||{},clearText=function(elem){elem.defaultValue===elem.value?elem.value="":""===elem.value&&(elem.value=elem.defaultValue)},moveEnd=function(obj){obj.focus();var len=obj.value.length;if(document.selection){var sel=obj.createTextRange();sel.moveStart("character",len),sel.collapse(),sel.select()}else _B.isNumber(obj.selectionStart)&&_B.isNumber(obj.selectionEnd)&&(obj.selectionStart=obj.selectionEnd=len)};ns.clearText=clearText,ns.moveEnd=moveEnd,ns.textareaAutoHeight=textareaAutoHeight}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},dom=ns.dom=[];dom.isReady=!1,dom.ready=function(fn){dom.isReady?fn():dom.push(fn)},dom.fireReady=function(){if(!dom.isReady){if(!document.body)return setTimeout(dom.fireReady,16);if(dom.isReady=1,dom.length)for(var fn,i=0;fn=dom[i];i++)fn()}},"complete"===document.readyState?dom.fireReady():-[1]?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),dom.fireReady()},!1):(document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),dom.fireReady())}),function(){if(!dom.isReady){var node=new Image;try{node.doScroll(),node=null}catch(e){return void setTimeout(arguments.callee,64)}dom.fireReady()}}())}(this),void function(exports,undefined){function loadScriptString(code){var doc=document,script=doc.createElement("script");try{script.appendChild(doc.createTextNode(code))}catch(ex){script.text=code}doc.body.appendChild(script)}function loadStyles(url){var doc=document,link=doc.createElement("link");link.rel="stylesheet",link.href=url;var head=doc.getElementsByTagName("head")[0];head.appendChild(link)}function loadStyleString(css,id){var doc=document;if(!id||!doc.getElementById(id)){var style=doc.createElement("style");id&&(style.id=id);try{style.appendChild(doc.createTextNode(css))}catch(ex){style.styleSheet.cssText=css}var head=doc.getElementsByTagName("head")[0];head.appendChild(style)}}function imgLoad(url,callback){var img=new Image;img.src=url,img.complete?callback(img):img.onload=function(){callback(img),img.onload=null}}var ns=exports._B=exports._B||{},imgReady=function(){var list=[],intervalId=null,tick=function(){for(var i=0;i<list.length;i++)list[i].end?list.splice(i--,1):list[i]();!list.length&&stop()},stop=function(){clearInterval(intervalId),intervalId=null};return function(url,ready,load,error){var onready,width,height,newWidth,newHeight,img=new Image;return img.src=url,img.complete?(ready.call(img),void(load&&load.call(img))):(width=img.width,height=img.height,img.onerror=function(){error&&error.call(img),onready.end=!0,img=img.onload=img.onerror=null},onready=function(){newWidth=img.width,newHeight=img.height,console.log(newWidth,width,newHeight,height,newWidth*newHeight),(newWidth!==width||newHeight!==height||newWidth*newHeight>1024)&&(ready.call(img),onready.end=!0)},onready(),img.onload=function(){!onready.end&&onready(),load&&load.call(img),img=img.onload=img.onerror=null},void(onready.end||(list.push(onready),null===intervalId&&(intervalId=setInterval(tick,40)))))}}();ns.loadScriptString=loadScriptString,ns.loadStyles=loadStyles,ns.loadStyleString=loadStyleString,ns.imgLoad=imgLoad,ns.imgReady=imgReady}(this),void function(exports,undefined){function getElementLeft(element){for(var actualLeft=element.offsetLeft,current=element.offsetParent;null!==current;)actualLeft+=current.offsetLeft,current=current.offsetParent;return actualLeft}function getElementTop(element){for(var actualTop=element.offsetTop,current=element.offsetParent;null!==current;)actualTop+=current.offsetTop,current=current.offsetParent;return actualTop}function getElementViewLeft(element){var actualLeft=this.getElementLeft(element),elementScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;return actualLeft-elementScrollLeft}function getElementViewTop(element){var actualTop=this.getElementTop(element),elementScrollTop=document.body.scrollTop+document.documentElement.scrollTop;return actualTop-elementScrollTop}function getBoundingClientRect(element){if("number"!=typeof arguments.callee.offset){var scrollTop=document.documentElement.scrollTop,temp=document.createElement("div");temp.style.cssText="position:absolute;left:0;top:0;",document.body.appendChild(temp),arguments.callee.offset=-temp.getBoundingClientRect().top-scrollTop,document.body.removeChild(temp),temp=null}var rect=element.getBoundingClientRect(),offset=arguments.callee.offset;return{width:rect.width,height:rect.height,left:rect.left+offset,right:rect.right+offset,top:rect.top+offset,bottom:rect.bottom+offset}}function getViewport(){var body=doc.body,root="CSS1Compat"==doc.compatMode?docEl:body,width=root.clientWidth,height=root.clientHeight;return{width:width,height:height}}function getPagearea(){var body=doc.body,root="BackCompat"==doc.compatMode?body:docEl,width=Math.max(root.scrollWidth,root.clientWidth),height=Math.max(root.scrollHeight,root.clientHeight);return{width:width,height:height}}function getPageOffset(){var body=doc.body,scrollLeft=body.scrollLeft||docEl.scrollLeft,scrollTop=body.scrollTop||docEl.scrollTop;return{scrollLeft:scrollLeft,scrollTop:scrollTop}}function getMouseOffset(event){var body=doc.body,clientX=event.clientX,clientY=event.clientY,screenX=event.screenX,screenY=event.screenY,pageX=event.pageX,pageY=event.pageY;return pageX===undefined&&(pageX=clientX+(body.scrollLeft||docEl.scrollLeft)),pageY===undefined&&(pageY=clientY+(body.scrollTop||docEl.scrollTop)),{clientX:clientX,clientY:clientY,pageX:pageX,pageY:pageY,screenX:screenX,screenY:screenY}}function preventScrolling(){document.addEventListener("touchmove",preventScroll,!1)}function activeScrolling(){document.removeEventListener("touchmove",preventScroll,!1)}function getWindow(node){return node.window&&node.document?node:9===node.nodeType?node.defaultView:!1}var ns=exports._B=exports._B||{},doc=(window,document),docEl=doc.documentElement,preventScroll=function(e){"range"!==e.target.type&&e.preventDefault()};_B.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){_B[method]=function(node,val){var node=node||{},win=getWindow(node),top="scrollTop"===method;return arguments.length<2?win?win[prop]:node[method]:void(win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):node[method]=val)}}),ns.getViewport=getViewport,ns.getPagearea=getPagearea,ns.getElementLeft=getElementLeft,ns.getElementTop=getElementTop,ns.getElementViewLeft=getElementViewLeft,ns.getElementViewTop=getElementViewTop,ns.getPageOffset=getPageOffset,ns.getMouseOffset=getMouseOffset,ns.getBoundingClientRect=getBoundingClientRect,ns.preventScrolling=preventScrolling,ns.activeScrolling=activeScrolling}(this),void function(exports,undefined){function setCookie(name,value,option){var date=new Date,expires=option.expires?option.expires:"",path=option.path?"; path="+option.path:"",domain=option.domain?"; domain="+option.domain:"",secure=option.secure?"; secure":"";date.setTime(date.getTime()+60*expires*1e3),document.cookie=name+"="+escape(value)+";expires="+date.toGMTString()+path+domain+secure}function getCookie(name){var arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));return null!=arr?unescape(arr[2]):null}function delCookie(name,option){var date=new Date;date.setTime(date.getTime()-1e3);var cval=this.getCookie(name),path=option.path?"; path="+option.path:"",domain=option.domain?"; domain="+option.domain:"",secure=option.secure?"; secure":"";null!=cval&&(document.cookie=name+"="+escape(cval)+";expires="+date.toGMTString()+path+domain+secure)}var ns=exports._B=exports._B||{};ns.setCookie=setCookie,ns.getCookie=getCookie,ns.delCookie=delCookie}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},c=navigator.connection||{type:0},ct=["unknow","ethernet","wifi","cell_2g","cell_3g"],connectType=ct[c.type];ns.connectType=connectType}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},Animation=ns.Animation=function(options){this.init(options)};Animation.prototype={constructor:Animation,init:function(options){this.setElems(options.selector),this.setDuration(options.duration||1e3),this.setDelay(options.delay||0),this.setRunType(options.runType||"ease-in-out"),this.setUse3d(options.use3d),this.transformArr=[]},setElems:function(selector){return _B.isString(selector)?this.elems=_B.element(selector):_B.isArray(selector)?this.elems=selector:selector.tagName&&(this.elems=[selector]),this},setUse3d:function(use3d){return this.use3d=use3d,this},setDuration:function(duration){return this.duration=duration,this},setDelay:function(delay){return this.delay=delay,this},setRunType:function(runType){return this.runType=runType,this},scale:function(scale){return this.transformArr.push("scale("+scale+")"),this},scaleX:function(scaleX){return this.transformArr.push("scaleX("+scaleX+")"),this},scaleY:function(scaleY){return this.transformArr.push("scaleY("+scaleY+")"),this},rotate:function(rotate){return this.transformArr.push("rotate("+rotate+"deg)"),this},rotateX:function(rotateX){return this.transformArr.push("rotateX("+rotateX+"deg)"),this},rotateY:function(rotateY){return this.transformArr.push("rotateY("+rotateY+"deg)"),this},rotateZ:function(rotateZ){return this.transformArr.push("rotateZ("+rotateZ+"deg)"),this},translate:function(translateX,translateY,translateZ){return!_B.isString(translateX+translateY)||translateZ&&!_B.isString(translateZ)?this:(_B.support3d&&translateZ?this.transformArr.push("translate3d("+translateX+","+translateY+","+translateZ+")"):this.transformArr.push("translate("+translateX+","+translateY+")"),this)},translateX:function(translateX){return this.translate(translateX,0),this},translateY:function(translateY){return this.translate(0,translateY),this},skew:function(x,y){return this.transformArr.push("skew("+x+"deg,"+y+"deg)"),this},skewX:function(x){return this.transformArr.push("skewX("+x+"deg)"),this},skewY:function(y){return this.transformArr.push("skewY("+y+"deg)"),this},toOrigin:function(){return this.transformArr=[],this},setStyle:function(styleName,styleValue){var s="";if(_B.isUndefined(this.styleStr)&&(this.styleStr=""),_B.isObject(styleName))for(var sn in styleName){var sv=styleName[sn];s+=_B.toCssStyle(_B.getVendorPropertyName(sn))+":"+sv+";"}else _B.isString(styleName)&&(s+=_B.toCssStyle(_B.getVendorPropertyName(styleName))+":"+styleValue+";");return this.styleStr+=s,this},transit:function(onFinished){var that=this,elems=this.elems;return elems.forEach(function(elem){that._transit(elem)}),setTimeout(function(){elems.forEach(function(elem){elem.style[_B.getVendorPropertyName("transition")]=""}),onFinished&&onFinished.call(that)},this.duration),this},_transit:function(elem){var transformStr=this.transformArr.join(" ");_B.support3d&&this.use3d&&(transformStr+=" translatez(0)");var transitionStr="all "+this.duration/1e3+"s "+this.runType+" "+this.delay/1e3+"s";elem.style[_B.getVendorPropertyName("transform")]=transformStr,elem.style[_B.getVendorPropertyName("transition")]=transitionStr,elem.style.cssText+=this.styleStr}}}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},Dropdown=ns.Dropdown=function(element,options){for(var p in options)this[p]=options[p];this.$element=$(element),this.$toggle=this.$element.find(".ui-dropdown-toggle"),this.$menu=this.$element.find(".ui-dropdown-menu");var menuEl=this.$menu[0],childEls=menuEl.getElementsByTagName("*");this.excludedEls=_B.toArray(childEls),this.excludedEls.push(menuEl),this.init()};Dropdown.prototype={constructor:Dropdown,triggerType:"click",onShow:$.noop,onHide:$.noop,init:function(){var handleEvent=$.proxy(this.handleEvent,this);"click"==this.triggerType?(this.$element.on("click",".ui-dropdown-toggle",handleEvent),$(document).on("click",handleEvent)):"mouseenter"==this.triggerType&&(this.$element.on("mouseenter",handleEvent),this.$element.on("mouseleave",handleEvent))},show:function(){$(".ui-dropdown.open").not(this.$element).removeClass("open"),this.$element.addClass("open"),this.onShow()},hide:function(){this.$element.removeClass("open"),this.onHide()},hideByDoc:function(target){for(var i=0,l=this.excludedEls.length;l>i;i++)if(target==this.excludedEls[i])return;this.hide()},toggle:function(){this.$element.hasClass("open")?this.hide():this.show()},handleEvent:function(event){var type=event.type,target=event.target,currentTarget=event.currentTarget,$currentTarget=$(currentTarget);return"click"==type&&$currentTarget.hasClass("ui-dropdown-toggle")?(this.toggle(),!1):("mouseenter"==type&&$currentTarget.hasClass("ui-dropdown")?this.show():"mouseleave"==type&&$currentTarget.hasClass("ui-dropdown")&&this.hide(),void("click"==type&&currentTarget==document&&this.hideByDoc(target)))}}}(this),void function(exports,undefined){var ns=exports._B=exports._B||{},noop=function(){},ScrollSpy=ns.ScrollSpy=function(options){for(var p in options)this[p]=options[p];this.element=this.element||document,this.links=this.navbar.querySelectorAll('[href^="#"]'),this.init()};ScrollSpy.prototype={constructor:ScrollSpy,onInit:noop,onChange:noop,getElementTop:function(element,root){for(var actualTop=element.offsetTop,current=element.offsetParent;null!==current&&current!=root;)actualTop+=current.offsetTop,current=current.offsetParent;return actualTop},init:function(){this.match=this.getMatch(),this.match[0].link.parentNode.classList.add("active"),this.element.addEventListener("scroll",this,!1);var _resize=this.resize.bind(this);window.addEventListener("resize",_resize,!1),this.onInit()},resize:function(){this.match=this.getMatch()},getScrollTop:function(){var scrollTop;return scrollTop=this.element==document?_B.getPageOffset().scrollTop:this.element.scrollTop},removeStatus:function(index){this.match[index].link.parentNode.classList.remove("active"),this.match[index].change=""},addStatus:function(index){this.match[index].link.parentNode.classList.add("active"),this.match[index].change="changed"},handleEvent:function(event){for(var scrollTop=this.getScrollTop(),i=0,len=this.match.length;len>i;i++)if(scrollTop>=this.match[i].offset&&(i==len-1||scrollTop<this.match[i+1].offset)){for(var j=0;len>j;j++)j!=i&&this.removeStatus(j);"changed"!==this.match[i].change&&this.onChange(this.match[i]),this.addStatus(i)}},getMatch:function(){for(var arr=[],i=0,len=this.links.length;len>i;i++){var el=document.querySelector(this.links[i].getAttribute("href")),root=this.element==document?null:this.element;el?arr.push({panel:el,offset:this.getElementTop(el,root),link:this.links[i]}):console.log(this.links[i])}return arr}}}(this),void function(exports,undefined){"use strict";var $=exports.$,ns=exports._B=exports._B||{},Tab=ns.Tab=function(element,options){for(var p in options)this[p]=options[p];this.$element=$(element),this.$tabs=this.$element.find(".ui-tab-nav").eq(0).find(".ui-tab-item");this.$tabs.length;this.$panels=this.$element.find(".ui-tab-content").eq(0).children(),console.log(this.$panels),this.index={value:this.index||0,get:function(){return this.value},set:function(v){this.value=v}},this.isInit=!1,this.init()};Tab.prototype={constructor:Tab,onChanged:$.noop,init:function(){this.select(this.index.get()),this.setNodeData();var eventType="ontouchstart"in window?"touchstart":"click";this.$element.find(".ui-tab-nav").eq(0).on(eventType,".ui-tab-item",$.proxy(this.handleEvent,this)),this.isInit=!0},setNodeData:function(){this.$tabs.each(function(i){this.setAttribute("data-index",i)})},_show:function(index){this.$tabs.eq(index).addClass("active"),this.$panels.eq(index).show()},_hide:function(index){this.$tabs.eq(index).removeClass("active"),this.$panels.eq(index).hide()},select:function(index){var current=this.index.get();current===index&&this.isInit||(this._hide(current),this._show(index),this.index.set(index),this.onChanged({index:index}))},handleEvent:function(event){var currentTarget=event.currentTarget;if(~currentTarget.className.indexOf("ui-tab-item")){var index=parseInt(currentTarget.getAttribute("data-index"),10);this.select(index)}}}}(this),void function(exports,undefined){"use strict";var $=exports.$,ns=exports._B=exports._B||{},Tooltip=ns.Tooltip=function(trigger,options){this.trigger=$(trigger);for(var p in options)this[p]=options[p];this.init()};Tooltip.prototype={constructor:Tooltip,spacing:10,onShow:$.noop,onRemove:$.noop,content:null,operate:!1,event:"mouseenter",width:"auto",height:"auto",status:"closed",arrow:!0,timer:null,getAjaxContent:function(data){return data},autohide:!0,animated:!0,init:function(){this.trigger.on("mouseenter",$.proxy(this.handleEvent,this)),this.autohide&&this.trigger.on("mouseleave",$.proxy(this.handleEvent,this))},renderUI:function(){var html="";if(html+='<div class="ui-tooltip">',html+='<div class="ui-tooltip-content">',this.url&&(html+="loading..."),html+="</div>",this.arrow&&(html+='<i class="ui-tooltip-arrow"></i>'),html+="</div>",this.boundingBox=$(html),!this.operate){var title=this.getTitle();this.setTitle(title),this.removeTriggerTitle()}this.url?this.url&&this.content&&this.setTooltipContent(this.content):this.setTooltipContent(this.content||this.title||""),this.boundingBox.appendTo("body")},setAjaxContent:function(){var that=this;$.ajax({method:"get",url:this.url,success:function(json){that.content=that.getAjaxContent(json),that.setTooltipContent(that.content)},error:function(){}})},handleEvent:function(e){var that=this;switch(e.type){case"mouseenter":this.url&&!this.content&&this.setAjaxContent(),clearTimeout(this.timer),"closed"==this.status&&this.show();break;case"mouseleave":this.timer=setTimeout(function(){that.remove()},200)}},bindUI:function(){var that=this;this.boundingBox.on("mouseenter",function(){clearTimeout(that.timer)}).on("mouseleave",function(){this.timer=setTimeout(function(){that.remove()},200)})},syncUI:function(){if(this.setTooltipWidth(),this.setTooltipHeight(),!this.operate){var placement=this.getPlacement();this.setPlacement(placement),this.setTooltipPlacement()}this.setTooltipOffset(),this.animated&&this.showAnimation()},render:function(){this.renderUI(),this.bindUI(),this.syncUI()},destructor:function(){this.addTriggerTitle()},destroy:function(){this.destructor(),this.boundingBox.off(),this.boundingBox.remove()},show:function(){this.render(),this.onShow(),this.status="opened"},remove:function(){this.onRemove(),this.destroy(),this.status="closed"},showAnimation:function(callback){this.boundingBox.addClass("fadeIn animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("fadeIn animated")})},addTriggerTitle:function(){this.trigger.attr("title",this.title)},removeTriggerTitle:function(){this.trigger.attr("title","")},getTitle:function(){return this.title||this.trigger.attr("title")},setTitle:function(title){this.title=title},getPlacement:function(){return this.placement||this.trigger.attr("data-placement")||"top"},setPlacement:function(placement){this.placement=placement},setTooltipWidth:function(){this.boundingBox.width(this.width)},setTooltipHeight:function(){
this.boundingBox.height(this.height)},setTooltipContent:function(content){this.boundingBox.find(".ui-tooltip-content").html(content)},setTooltipPlacement:function(){this.boundingBox.addClass(this.placement)},setTooltipOffset:function(){var winW=window.innerWidth,winH=window.innerHeight,w1=this.trigger.width(),h1=this.trigger.height(),p1=this.trigger.offset(),w2=this.boundingBox.width(),h2=this.boundingBox.height(),top=p1.top,left=p1.left;if(this.operate)top+h1+h2>winH?top-=h2:top+=h1,left+w1+w2>winW&&(left=left+w1-w2);else{var vx=(w1-w2)/2,vy1=h2+this.spacing,vy2=h1+this.spacing,hx1=w2+this.spacing,hx2=w1+this.spacing,hy=(h1-h2)/2;switch(this.placement){case"top":top-=vy1,left+=vx;break;case"bottom":top+=vy2,left+=vx;break;case"left":top+=hy,left-=hx1;break;case"right":top+=hy,left+=hx2}}this.boundingBox.css({top:top,left:left})}}}(this);var flyUtils=function(){var rscripts=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,ron=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,ropen=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,rsanitize={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},sanitize=function(str){return str.replace(rscripts,"").replace(ropen,function(a,b){var match=a.toLowerCase().match(/<(\w+)\s/);if(match){var reg=rsanitize[match[1]];reg&&(a=a.replace(reg,function(s,name,value){var quote=value.charAt(0);return name+"="+quote+"javascript:void(0)"+quote}))}return a.replace(ron," ").replace(/\s+/g," ")})};return{sanitize:sanitize}}();void function(){$(".link-study").on("click",function(){var studyData=localStorage.getItem("studyData");if(studyData){var search=_B.serializeParam(JSON.parse(studyData)),url=this.getAttribute("data-url");this.href=url+"?"+search}})}(),void function(exports,undefined){"use strict";function getVendorPropertyName(prop){var _prop,style=div.style;if(prop in style)return prop;_prop=prop.charAt(0).toUpperCase()+prop.substr(1);for(var i=vendors.length;i--;){var v=vendors[i],vendorProp=v+_prop;if(vendorProp in style)return vendorProp}}var ns=exports._B=exports._B||{},isTouchDevice=function(){return"ontouchstart"in window}(),noop=function(){},vendors=["o","ms","moz","webkit"],div=document.createElement("div"),startEvt=isTouchDevice?"touchstart":"mousedown",moveEvt=isTouchDevice?"touchmove":"mousemove",endEvt=isTouchDevice?"touchend":"mouseup",tapEvt="click",ToggleSwitch=ns.ToggleSwitch=function(element,options){for(var p in options)this[p]=options[p];this.element=element,this.handler=this.element.querySelector(".ui-toggleSwitch-handler"),this.checkbox=this.element.querySelector(".ui-toggleSwitch-checkbox"),this.isOn=!1,this.lastX=0,this.dragingHandler=null,this.init()};ToggleSwitch.prototype={constructor:ToggleSwitch,onChange:noop,size:"normal",onInit:noop,checked:!1,disabled:!1,toggle:!0,_showOn:function(){this.element.classList.add("on")},_showOff:function(){this.element.classList.remove("on")},setToggle:function(){this.element.style.display=this.toggle?"block":"none"},toggleStatus:function(){this.isOn?this.turnOff():this.turnOn()},turnOn:function(){this._showOn(),this._moveTo(this.rightPoint),this.isOn=!0,this.checkbox.checked=!0,this.onChange("on")},turnOff:function(){this._showOff(),this._moveTo(0),this.isOn=!1,this.checkbox.checked=!1,this.onChange("off")},init:function(){this.setSize(),this.setRightPoint(),this.setMidPoint(),this.setWrapLeft(),this.bindHandlers(),this.checked&&this.turnOn(),this.setToggle(),this.onInit()},setSize:function(){this.element.classList.add("ui-toggleSwitch-"+this.size)},getStyle:function(elem,styleName){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(elem,null)[styleName]:elem.currentStyle?elem.currentStyle[styleName]:void 0},innerWidth:function(elem){return elem.clientWidth},outerWidth:function(elem){var innerWidth=this.innerWidth(elem),borderLeft=parseInt(this.getStyle(elem,"borderLeftWidth"),10),borderRight=parseInt(this.getStyle(elem,"borderRightWidth"),10);return borderLeft+borderRight+innerWidth},setRightPoint:function(){this.rightPoint=this.innerWidth(this.element)-this.outerWidth(this.handler)},setMidPoint:function(){this.midPoint=this.rightPoint/2},setWrapLeft:function(){this.wrapLeft=this.element.offsetLeft},disable:function(){this.element.classList.add("disabled"),this.disabled=!0},enable:function(){this.element.classList.remove("disabled"),this.disabled=!1},_handleEvent:function(e){if(!this.disabled)switch(e.type){case startEvt:this._onStartEvt(e);break;case moveEvt:this._onMoveEvt(e);break;case endEvt:this._onEndEvt(e);break;case tapEvt:this._onTapEvt(e)}},bindHandlers:function(){var _handleEvent=this._handleEvent=this._handleEvent.bind(this);this.element.addEventListener(tapEvt,_handleEvent),this.handler.addEventListener(startEvt,_handleEvent),document.body.addEventListener(moveEvt,_handleEvent),document.body.addEventListener(endEvt,_handleEvent)},_onStartEvt:function(e){e.target==this.handler&&(this.dragingHandler=this.handler,e.preventDefault())},_onMoveEvt:function(e){if(this.dragingHandler){e.preventDefault();var touch=e.touches?e.touches[0]:e,goTo=touch.clientX-this.wrapLeft;goTo<this.rightPoint&&goTo>0&&(this.lastX=goTo,this._moveTo(goTo)),goTo>this.midPoint&&!this.isOn?this._showOn():goTo<this.midPoint&&this.isOn&&this._showOff()}},_onEndEvt:function(e){this.dragingHandler&&(e.preventDefault(),this.dragingHandler=null,this.lastX>this.midPoint?this.turnOn():this.turnOff())},_onTapEvt:function(e){this.isOn?this.turnOff():this.turnOn()},_moveTo:function(x){var vendorProp=getVendorPropertyName("transform");this.handler.style[vendorProp]="translate3d("+x+"px,0,0)"},destory:function(){var _handleEvent=this._handleEvent,elem=this.element;elem.removeEventListener(tapEvt,_handleEvent),this.handler.removeEventListener(startEvt,_handleEvent),document.body.removeEventListener(moveEvt,_handleEvent),document.body.removeEventListener(endEvt,_handleEvent),elem.parentNode.removeChild(elem)}}}(this);